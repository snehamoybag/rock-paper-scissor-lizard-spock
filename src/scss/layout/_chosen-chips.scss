@use '../abstracts/breakpoints' as brk;

.chosen-chips {
  --container-width: min(100%, 18.5rem);
  --container-min-height: 23rem;
  --chips-flex-direction: column-reverse;
  --user-horizontal-pos: 0;
  --dark-circle-vertical-pos: 7%;
  --dark-circle-size: 6rem;
  --results-width: min(80%, 15rem);
  --fs-chips: var(--fs-400);
  --fs-resilts-title: 3.5rem;
  width: var(--container-width);
  min-height: var(--container-min-height); /* prevents layout from shifting */
  position: relative;
  isolation: isolate;
  margin-bottom: 3rem;

  @include brk.minWidth(xsmall) {
    --container-width: 30rem;
    --container-min-height: 27rem;
    --dark-circle-size: 8rem;
    --dark-circle-vertical-pos: 14%;
    --fs-resilts-title: 4rem;
    --fs-chips: 1.25rem;
  }

  @include brk.minWidth(large) {
    --container-width: 58rem;
    --container-min-height: 22rem;
    --chips-flex-direction: column;
    --user-horizontal-pos: 14%;
    --dark-circle-size: 14rem;
    --dark-circle-vertical-pos: 20%;

    // increase chips size
    .chip {
      --chip-width: 18.5rem;
    }
  }

  &__user,
  &__house {
    display: flex;
    flex-direction: var(--chips-flex-direction);
    justify-content: center;
    align-items: center;
    gap: 1.5rem;
    font-size: var(--fs-chips);
    font-weight: var(--fw-bold);
    letter-spacing: 0.1em;
  }

  &__user {
    position: absolute;
    top: 0;
    left: var(--user-horizontal-pos);
  }

  &__house {
    position: absolute;
    top: 0;
    right: var(--user-horizontal-pos);

    .chip {
      /* transparent by default to show the dark circle at first, then use animation to show the chip */
      opacity: 0;
    }
  }

  &__dark-circle {
    width: var(--dark-circle-size);
    aspect-ratio: 1/1;
    background-color: var(--clr-neutral-900);
    border-radius: 50%;
    /* align it centered of the chip */
    position: absolute;
    top: var(--dark-circle-vertical-pos);
    left: 50%;
    transform: translateX(-50%);
  }

  &__results {
    position: absolute;
    width: var(--results-width);
    left: 50%;
    bottom: 0;
    transform: translateX(-50%);
    /* transparent by default to show the dark circle at first, then use animation to show the chip */
    opacity: 0;

    @include brk.minWidth(large) {
      left: 50%;
      top: 50%;
      bottom: auto;
      transform: translate(-50%, -50%);
    }

    &-title {
      font-size: var(--fs-resilts-title);
      font-weight: var(--fw-bold);
      text-align: center;
      line-height: 0.85;
      margin-bottom: 0.4em;
    }

    .btn {
      display: block;
      width: 90%;
      margin: 0 auto;
    }
  }
}